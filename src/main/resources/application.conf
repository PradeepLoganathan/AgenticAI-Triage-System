# ============================================
# Akka Java SDK Configuration
# ============================================

akka.javasdk {
  # Workflow configuration
  workflow {
    step-timeout = 180s
    ask-timeout = 180s
  }

  # Agent configuration
  agent {
    model-provider = openai
    
    openai {
      model-name = "gpt-4o-mini"
      api-key = ${?OPENAI_API_KEY}
    }

    # Guardrails for input/output validation
    guardrails {
      pii-detector {
        class = "com.pradeepl.triage.guardrails.PiiGuardrail"
        use-for = [model-request, model-response]
      }

      prompt-injection-detector {
        class = "com.pradeepl.triage.guardrails.PromptInjectionGuardrail"
        use-for = [model-request]
      }
    }
  }

  # Dev mode configuration
  dev-mode {
    http-port = 9100
    service-name = "triage-service"
  }
}

# ============================================
# Akka Core Configuration
# ============================================

akka {
  loglevel = "DEBUG"
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"
  
  ask-timeout = 180s
  
  actor {
    debug {
      receive = on
      autoreceive = on
      lifecycle = on
    }
  }
  
  http {
    server {
      request-timeout = 180s
      idle-timeout = 200s
    }
  }
}

# ============================================
# Logging Configuration
# ============================================

logging.level {
  akka.javasdk = DEBUG
  akka.runtime = DEBUG
  akka.http = DEBUG
  akka.stream = INFO
  com.pradeepl.triage = DEBUG
  root = INFO
}

# ============================================
# MCP Configuration
# ============================================

mcp.http.url = "http://localhost:9100/mcp"
